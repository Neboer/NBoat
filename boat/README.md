# Boat
这是博客的主要部分。
Boat模块的后端主要实现了：
1. blog 目录。
2. cookie管理，在boat中，会在最前注册一个校验中间件，判断访客的身份，以推送给其不同的内容
3. 访问控制，也就是某一篇博文的权限等级，在文章里会存储为一个字段，无此字段时丝毫不影响其他模块的工作
4. 博客分为若干页面部分：主页、博客详细列表、博客内容页面、用户登录与校验页面。
    - 注意： Boat模块包含渲染功能，因此客户端收到的网页信息并不是静态的，而是服务端基于模板进行渲染之后的结果。
    - 客户端基本每次请求都是直接拿到页面，不需要在请求过后进行进一步请求。
    - 因此，后端包括“前后端”与“后后端”，其中“前后端”负责根据“后后端”返回的数据渲染页面。
    - 流程大概是，客户请求-前后端调用-后后端函数-数据库操作-返回给前后端-前后端最终渲染
    - 对于主页，后端提供主页上展示的博文的id，包含“最新博文、最大版面两种。”
    - 后端负责返回现有的博文的所有类型，并发送给前端。
5. 博客应该还包括一个评论板块，这个板块可以用现有的实现来做，更加特殊的一点，甚至可以考虑把评论板块单独拿出来作为另一个模块。现在的开发任务不应该包含这个。
6. 博客的前端将会继续在front里实现。
同时，这里包含了所有通往前端页面的静态路由，可以说这个boat模块是后端里的前端。

## api参考
1. 分类目录
    
    每篇博文都需要一种主要“类型”和多种次要“类型”。初期暂时将每种博文都定义为仅有一种类型。博文的类型是博文的metadata之一。
    在boat数据库中，一篇“博文”的存储结构包括1. 博文的ritin id（可以根据这个在ritin数据库中找到博文的内容、上传时间和最后修改的时间）
    以及2. 博文的metadata，包含博文主要类型、博文次要类型（数组）、博文评级（即要不要展示在首页以及展示的顺序）、博文公开性等等。
    
2. 设计结构
    
    boat整个模块分为渲染器和调用器。用户全程只需要和blog模块进行数据通信。用户对静态页面的访问会绑定到blog的页面渲染器上;
    调用器的暴露接口就是api。渲染器需要调用调用器来完成一部分工作，比如渲染一个博文内容页面，就需要查询具体博文的内容，
    而这个查询就是在调用器中完成的。用户修改好一篇博文后，将它重新上传，这是便不需要渲染操作，直接调用调用器函数即可。
    
    渲染器包含“boat.go和renderer.go”，调用器是“api.go”。